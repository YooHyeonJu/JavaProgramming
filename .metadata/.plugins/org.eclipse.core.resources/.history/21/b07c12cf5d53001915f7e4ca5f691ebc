package chap02;
import java.util.Scanner;

public class DayOfYear {
	
	static int[][] mdays = {
			{31,28,31,30,31,30,31,31,30,31,30,31},
			{31,29,31,30,31,30,31,31,30,31,30,31}
	};
	

	static class YMD{
		int y;
		int m;
		int d;
		
		YMD(int year, int month, int day){
			this.y = year; this.m = month; this.d = day;
		}
		
		void YMD_after(int n)
		{
			while(n!=0)
			{
				if(this.d + n < mdays[isLeap(this.y)][this.m]) {
					this.d += n;
					return;
				}
				else
				{					
					n -= mdays[isLeap(this.y)][this.m] - this.d;
					System.out.println(n);
					this.d = 1;
					this.m+=1;
					printYMD();
					if(this.m >=12)
					{
						this.m = 1;
						this.y +=1;
					}
					printYMD();
				}
			}
		}
		
		void printYMD()
		{
			System.out.println(this.y +"년" + this.m + "월 " + this.d + "일");
		}
	}
	
	static int isLeap(int year)
	{
		return (year%4 == 0 && year%100 != 0) || (year %400==0)? 1:0;
			
	}
	
	static int dayOfYear(int y, int m, int d)
	{
		int days = d;
		
		for(int i = 1;i<m;i++)
		{
			days += mdays[isLeap(y)][i-1];
		}
		
		return days;
	}
	
	static int leftDayOfYear(int y, int m, int d)
	{
		int days = dayOfYear(y,m,d);
		int leftDay;
		if(isLeap(y)==1)
		{
			leftDay = 366-days;
		}
		else
		{
			leftDay = 365-days;
		}
		return leftDay;
	}
	
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		
		Scanner stdIn = new Scanner(System.in);
		System.out.println("그 해 경과 일수를 구합니다.");
		
		System.out.print("년 : "); int year = stdIn.nextInt();
		System.out.print("월 : "); int month = stdIn.nextInt();
		System.out.print("일 : "); int day = stdIn.nextInt();
		
		System.out.print("n일 후 의 값 : "); int n = stdIn.nextInt();
		
		//System.out.printf("그 해 %d일째입니다.\n", dayOfYear(year,month,day));
		//System.out.printf("그 해 남은 날은 %d입니다.", leftDayOfYear(year, month, day));
		
		YMD today = new YMD(year,month,day);
		today.YMD_after(3);
		System.out.println(n + "일 후는 : ");
		today.printYMD();
	}

}
